<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Evolution Comparison</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .explainer {
            text-align: center;
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 10px;
            color: #2c3e50;
        }
        
        .selectors {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .selector-group {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }
        
        .selector-group h3 {
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.3em;
        }
        
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        select:focus {
            outline: none;
            border-color: #3498db;
        }

        .summary-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #f39c12;
        }

        .summary-title {
            color: #d35400;
            font-size: 1.4em;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .summary-item {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #e67e22;
        }

        .summary-label {
            font-weight: bold;
            color: #d35400;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .summary-value {
            color: #8e44ad;
            font-size: 1.3em;
            font-weight: bold;
        }

        .compute-breakdown {
            background: rgba(142, 68, 173, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .compute-breakdown-title {
            font-weight: bold;
            color: #8e44ad;
            margin-bottom: 10px;
            text-align: center;
        }

        .compute-formula {
            font-family: monospace;
            background: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin: 5px 0;
            border: 1px solid #ddd;
        }

        .visualizations {
            background: linear-gradient(135deg, #e8f8f5 0%, #d5e8f4 100%);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #3498db;
        }

        .vis-title {
            color: #2980b9;
            font-size: 1.4em;
            text-align: center;
            margin-bottom: 25px;
            font-weight: bold;
        }

        .comparison-row {
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }

        .comparison-header {
            font-weight: bold;
            color: #2980b9;
            margin-bottom: 15px;
            font-size: 1.1em;
            text-align: center;
        }

        .ratio-badge {
            display: inline-block;
            background: #8e44ad;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        /* Simple bar chart for small differences (2-20x) */
        .simple-bars {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 20px;
            height: 100px;
            margin: 20px 0;
        }

        .simple-bar {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            font-weight: bold;
            font-size: 12px;
            min-width: 60px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 8px;
            border-radius: 4px 4px 0 0;
            text-align: center;
        }

        /* Circle comparison for medium differences (20-1000x) */
        .circle-comparison {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .circle-item {
            text-align: center;
        }

        .circle {
            background: radial-gradient(circle, #e74c3c, #c0392b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 0 auto 10px;
            font-size: 11px;
        }

        .circle-label {
            font-size: 12px;
            color: #2c3e50;
            font-weight: bold;
        }

        /* Scale representation for huge differences (1000x+) */
        .scale-representation {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(231, 76, 60, 0.1);
            border-radius: 10px;
        }

        .scale-large {
            font-size: 1.5em;
            color: #e74c3c;
            font-weight: bold;
            margin: 10px 0;
        }

        .scale-small {
            font-size: 0.8em;
            color: #95a5a6;
            margin: 10px 0;
        }

        .metaphor {
            background: rgba(39, 174, 96, 0.1);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: #27ae60;
            text-align: center;
            margin-top: 10px;
        }

        .spec-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .spec-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #bdc3c7;
        }

        .spec-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .spec-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 4px 0;
        }

        .spec-label {
            font-weight: bold;
            color: #34495e;
        }

        .spec-value {
            color: #2c3e50;
        }

        /* Reference Panel Styles */
        .reference-panel {
            background: rgba(46, 204, 113, 0.1);
            border: 2px solid #27ae60;
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .reference-header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 12px 15px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .reference-header:hover {
            background: linear-gradient(135deg, #229954, #27ae60);
        }

        .reference-toggle {
            font-size: 1.2em;
            transition: transform 0.3s ease;
        }

        .reference-toggle.expanded {
            transform: rotate(180deg);
        }

        .reference-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .reference-content.expanded {
            max-height: 800px;
            padding: 20px;
        }

        .reference-section {
            margin-bottom: 20px;
        }

        .reference-section h4 {
            color: #27ae60;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }

        .reference-facts {
            background: rgba(52, 152, 219, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .reference-facts ul {
            margin: 0;
            padding-left: 20px;
        }

        .reference-facts li {
            margin-bottom: 8px;
            color: #2c3e50;
        }

        /* Enhanced Scale Visualization Styles */
        .scale-metaphor {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            border: 2px solid #e91e63;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
        }

        .scale-metaphor-title {
            color: #c2185b;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .scale-objects {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .scale-object {
            text-align: center;
            flex: 1;
            margin: 10px;
            min-width: 120px;
        }

        .scale-object-visual {
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            border-radius: 50%;
        }

        .scale-object-1 {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .scale-object-2 {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .scale-object-name {
            font-weight: bold;
            color: #2c3e50;
            font-size: 0.9em;
        }

        .scale-explanation {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-style: italic;
            color: #5d4e75;
        }

        .info-button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            cursor: pointer;
            margin-left: 8px;
            transition: all 0.3s ease;
        }

        .info-button:hover {
            background: linear-gradient(135deg, #2980b9, #3498db);
            transform: scale(1.1);
        }

        /* Timeline Styles */
        .timeline-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 30px;
            border-radius: 20px;
            margin-top: 30px;
            color: white;
        }

        .timeline-title {
            text-align: center;
            font-size: 1.8em;
            margin-bottom: 30px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .timeline-container {
            position: relative;
            max-width: 100%;
            overflow-x: auto;
            padding: 20px 0;
        }

        .timeline {
            display: flex;
            align-items: center;
            min-width: 1000px;
            position: relative;
            padding: 40px 0;
        }

        .timeline-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #e74c3c);
            transform: translateY(-50%);
            border-radius: 2px;
        }

        .timeline-item {
            position: relative;
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 10px;
            min-width: 120px;
        }

        .timeline-dot {
            width: 20px;
            height: 20px;
            background: white;
            border: 4px solid #3498db;
            border-radius: 50%;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .timeline-dot.highlighted {
            width: 30px;
            height: 30px;
            background: #f39c12;
            border: 6px solid #e67e22;
            box-shadow: 0 0 20px rgba(243, 156, 18, 0.6);
            animation: pulse 2s infinite;
        }

        .timeline-dot.comparison {
            width: 25px;
            height: 25px;
            background: #e74c3c;
            border: 5px solid #c0392b;
            box-shadow: 0 0 15px rgba(231, 76, 60, 0.5);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 20px rgba(243, 156, 18, 0.6); }
            50% { box-shadow: 0 0 30px rgba(243, 156, 18, 0.9); }
            100% { box-shadow: 0 0 20px rgba(243, 156, 18, 0.6); }
        }

        .timeline-content {
            text-align: center;
            margin-top: 15px;
            max-width: 140px;
        }

        .timeline-year {
            font-weight: bold;
            font-size: 1.1em;
            color: #f39c12;
            margin-bottom: 5px;
        }

        .timeline-computer {
            font-size: 0.9em;
            line-height: 1.2;
            color: white;
            margin-bottom: 5px;
        }

        .timeline-computer.highlighted {
            color: #f39c12;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .timeline-computer.comparison {
            color: #e74c3c;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .timeline-description {
            font-size: 0.75em;
            color: #bdc3c7;
            line-height: 1.2;
        }

        .timeline-legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .legend-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 3px solid;
        }

        .legend-comparison {
            background: #e74c3c;
            border-color: #c0392b;
        }

        .legend-highlighted {
            background: #f39c12;
            border-color: #e67e22;
        }

        .legend-milestone {
            background: white;
            border-color: #3498db;
        }

        @media (max-width: 768px) {
            .selectors, .spec-cards {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }

            .summary-grid {
                grid-template-columns: 1fr;
            }

            .circle-comparison {
                flex-direction: column;
                gap: 20px;
            }

            .scale-objects {
                flex-direction: column;
            }

            .scale-object {
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üñ•Ô∏è Computer Evolution Comparison</h1>
        <p class="subtitle">Mathematically accurate scale comparisons of computing evolution</p>
        
        <div class="explainer">
            <strong>üí° Real computational power:</strong> Modern processors use multiple cores, higher instructions-per-cycle (IPC), and advanced architectures. A 2GHz dual-core vastly outperforms a 4GHz single-core from 2000!
        </div>
        
        <div class="selectors">
            <div class="selector-group">
                <h3>First Computer</h3>
                <select id="computer1">
                    <option value="">Select a computer...</option>
                </select>
            </div>
            <div class="selector-group">
                <h3>Second Computer</h3>
                <select id="computer2">
                    <option value="">Select a computer...</option>
                </select>
            </div>
        </div>

        <div id="results" style="display: none;">
            <div class="summary-section">
                <div class="summary-title">üìä Performance Summary</div>
                <div class="summary-grid" id="summary-grid"></div>
                <div class="compute-breakdown" id="compute-breakdown"></div>
            </div>

            <div class="visualizations">
                <div class="vis-title">üìà Visual Scale Comparisons</div>
                <div id="visual-content"></div>
            </div>

            <div class="spec-cards" id="spec-cards"></div>
            
            <div class="timeline-section" id="timeline-section">
                <div class="timeline-title">üï∞Ô∏è Computing History Timeline</div>
                <div class="timeline-container">
                    <div class="timeline" id="timeline"></div>
                </div>
                <div class="timeline-legend">
                    <div class="legend-item">
                        <div class="legend-dot legend-comparison"></div>
                        <span>Your Compared Computers</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot legend-highlighted"></div>
                        <span>Key Milestones</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot legend-milestone"></div>
                        <span>Historical Context</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const computers = {
            // Early Computers (1940s-1950s)
            'eniac': {
                name: 'ENIAC (1946)',
                year: 1946,
                cpu: 0.0001,
                cores: 1,
                bits: 10,
                ipc: 0.05,
                compute_power: 0.005,
                memory: 0.0195,
                storage: 0,
                weight: 27000,
                power: 150000,
                cost: 6000000,
                category: 'Early Computer'
            },
            'univac1': {
                name: 'UNIVAC I (1951)',
                year: 1951,
                cpu: 0.002,
                cores: 1,
                bits: 12,
                ipc: 0.1,
                compute_power: 0.0002,
                memory: 1,
                storage: 0,
                weight: 7300,
                power: 125000,
                cost: 15000000,
                category: 'Early Computer'
            },

            // Space Computers
            'apollo': {
                name: 'Apollo Guidance Computer (1966)',
                year: 1966,
                cpu: 2.048,
                cores: 1,
                bits: 16,
                ipc: 0.5,
                compute_power: 1.024,
                memory: 4,
                storage: 36,
                weight: 32,
                power: 55,
                cost: 3500000,
                category: 'Space Computer'
            },
            'voyager': {
                name: 'Voyager Computer (1977)',
                year: 1977,
                cpu: 4,
                cores: 1,
                bits: 18,
                ipc: 0.6,
                compute_power: 2.4,
                memory: 68,
                storage: 8,
                weight: 4.2,
                power: 28,
                cost: 900000,
                category: 'Space Computer'
            },
            'shuttle': {
                name: 'Space Shuttle Computer (1981)',
                year: 1981,
                cpu: 1.4,
                cores: 1,
                bits: 32,
                ipc: 0.7,
                compute_power: 0.98,
                memory: 104,
                storage: 106,
                weight: 29,
                power: 550,
                cost: 2000000,
                category: 'Space Computer'
            },

            // Fictional Computers
            'hal9000': {
                name: 'HAL 9000 (2001: Space Odyssey)',
                year: 1968,
                cpu: 1000,
                cores: 1000,
                bits: 64,
                ipc: 10.0,
                compute_power: 10000000,
                memory: 1048576000,
                storage: 1073741824000,
                weight: 5000,
                power: 100000,
                cost: 50000000,
                category: 'Fictional Computer'
            },
            'jurassic_sgi': {
                name: 'Jurassic Park SGI (1993 Movie)',
                year: 1993,
                cpu: 150,
                cores: 1,
                bits: 64,
                ipc: 2.5,
                compute_power: 375,
                memory: 131072,
                storage: 4194304,
                weight: 45,
                power: 400,
                cost: 100000,
                category: 'Fictional Computer'
            },
            'wopr': {
                name: 'WOPR (WarGames 1983)',
                year: 1983,
                cpu: 50,
                cores: 100,
                bits: 32,
                ipc: 2.0,
                compute_power: 10000,
                memory: 1048576,
                storage: 10485760,
                weight: 10000,
                power: 500000,
                cost: 75000000,
                category: 'Fictional Computer'
            },
            'skynet': {
                name: 'Skynet (Terminator 1984)',
                year: 1984,
                cpu: 1000,
                cores: 10000,
                bits: 64,
                ipc: 8.0,
                compute_power: 80000000,
                memory: 1073741824,
                storage: 1099511627776,
                weight: 50000,
                power: 10000000,
                cost: 1000000000,
                category: 'Fictional Computer'
            },
            'mother': {
                name: 'Mother (Alien 1979)',
                year: 1979,
                cpu: 100,
                cores: 50,
                bits: 32,
                ipc: 3.0,
                compute_power: 15000,
                memory: 524288,
                storage: 52428800,
                weight: 2000,
                power: 250000,
                cost: 25000000,
                category: 'Fictional Computer'
            },
            'enterprise': {
                name: 'Enterprise Computer (Star Trek)',
                year: 1966,
                cpu: 10000,
                cores: 100000,
                bits: 128,
                ipc: 50.0,
                compute_power: 50000000000,
                memory: 1099511627776000,
                storage: 1125899906842624000,
                weight: 100000,
                power: 1000000000,
                cost: 10000000000,
                category: 'Fictional Computer'
            },

            // Calculators
            'hp35': {
                name: 'HP-35 Calculator (1972)',
                year: 1972,
                cpu: 0.2,
                cores: 1,
                bits: 56,
                ipc: 0.05,
                compute_power: 0.01,
                memory: 0.768,
                storage: 0,
                weight: 0.255,
                power: 0.8,
                cost: 2000,
                category: 'Calculator'
            },
            'ti81': {
                name: 'TI-81 Calculator (1990)',
                year: 1990,
                cpu: 2,
                cores: 1,
                bits: 8,
                ipc: 0.5,
                compute_power: 1.0,
                memory: 2.4,
                storage: 0,
                weight: 0.275,
                power: 0.05,
                cost: 110,
                category: 'Calculator'
            },
            'ti89': {
                name: 'TI-89 Calculator (1998)',
                year: 1998,
                cpu: 10,
                cores: 1,
                bits: 32,
                ipc: 0.8,
                compute_power: 8.0,
                memory: 188,
                storage: 2048,
                weight: 0.31,
                power: 0.2,
                cost: 180,
                category: 'Calculator'
            },

            // Early Personal Computers
            'altair8800': {
                name: 'Altair 8800 (1975)',
                year: 1975,
                cpu: 2,
                cores: 1,
                bits: 8,
                ipc: 0.25,
                compute_power: 0.5,
                memory: 1,
                storage: 0,
                weight: 18,
                power: 60,
                cost: 5000,
                category: 'Personal Computer'
            },
            'apple2': {
                name: 'Apple II (1977)',
                year: 1977,
                cpu: 1,
                cores: 1,
                bits: 8,
                ipc: 0.43,
                compute_power: 0.43,
                memory: 48,
                storage: 140,
                weight: 5.5,
                power: 45,
                cost: 7500,
                category: 'Personal Computer'
            },
            'c64': {
                name: 'Commodore 64 (1982)',
                year: 1982,
                cpu: 1,
                cores: 1,
                bits: 8,
                ipc: 0.4,
                compute_power: 0.4,
                memory: 64,
                storage: 170,
                weight: 1.8,
                power: 10,
                cost: 1500,
                category: 'Personal Computer'
            },
            'amiga500': {
                name: 'Commodore Amiga 500 (1987)',
                year: 1987,
                cpu: 7.16,
                cores: 1,
                bits: 32,
                ipc: 0.6,
                compute_power: 4.3,
                memory: 512,
                storage: 880,
                weight: 4.3,
                power: 40,
                cost: 3000,
                category: 'Personal Computer'
            },

            // IBM PC Era
            'ibmpc': {
                name: 'IBM PC (1981)',
                year: 1981,
                cpu: 4.77,
                cores: 1,
                bits: 16,
                ipc: 0.33,
                compute_power: 1.57,
                memory: 256,
                storage: 360,
                weight: 11.3,
                power: 130,
                cost: 8000,
                category: 'Personal Computer'
            },
            'ibmxt': {
                name: 'IBM PC XT (1983)',
                year: 1983,
                cpu: 4.77,
                cores: 1,
                bits: 16,
                ipc: 0.33,
                compute_power: 1.57,
                memory: 640,
                storage: 10240,
                weight: 15,
                power: 135,
                cost: 6000,
                category: 'Personal Computer'
            },
            'ibmat': {
                name: 'IBM PC AT (1984)',
                year: 1984,
                cpu: 6,
                cores: 1,
                bits: 16,
                ipc: 0.5,
                compute_power: 3.0,
                memory: 512,
                storage: 20480,
                weight: 21,
                power: 200,
                cost: 8000,
                category: 'Personal Computer'
            },

            // 386/486 Era
            'i386': {
                name: '386 PC (1985)',
                year: 1985,
                cpu: 16,
                cores: 1,
                bits: 32,
                ipc: 0.6,
                compute_power: 9.6,
                memory: 4096,
                storage: 40960,
                weight: 18,
                power: 150,
                cost: 7000,
                category: 'Personal Computer'
            },
            'i486': {
                name: '486 PC (1989)',
                year: 1989,
                cpu: 25,
                cores: 1,
                bits: 32,
                ipc: 0.8,
                compute_power: 20,
                memory: 8192,
                storage: 102400,
                weight: 16,
                power: 180,
                cost: 4000,
                category: 'Personal Computer'
            },

            // Pentium Era
            'pentium': {
                name: 'Pentium PC (1993)',
                year: 1993,
                cpu: 60,
                cores: 1,
                bits: 32,
                ipc: 1.67,
                compute_power: 100,
                memory: 16384,
                storage: 524288,
                weight: 12,
                power: 200,
                cost: 3000,
                category: 'Personal Computer'
            },
            'pentium2': {
                name: 'Pentium II PC (1997)',
                year: 1997,
                cpu: 233,
                cores: 1,
                bits: 32,
                ipc: 2.0,
                compute_power: 466,
                memory: 65536,
                storage: 4194304,
                weight: 10,
                power: 250,
                cost: 2500,
                category: 'Personal Computer'
            },
            'pentium3': {
                name: 'Pentium III PC (1999)',
                year: 1999,
                cpu: 500,
                cores: 1,
                bits: 32,
                ipc: 2.2,
                compute_power: 1100,
                memory: 131072,
                storage: 10485760,
                weight: 8,
                power: 300,
                cost: 2000,
                category: 'Personal Computer'
            },
            'pentium4': {
                name: 'Pentium 4 PC (2000)',
                year: 2000,
                cpu: 1500,
                cores: 1,
                bits: 32,
                ipc: 1.0,
                compute_power: 1500,
                memory: 524288,
                storage: 41943040,
                weight: 7,
                power: 350,
                cost: 1800,
                category: 'Personal Computer'
            },

            // Core Era
            'coreduo': {
                name: 'Core Duo PC (2006)',
                year: 2006,
                cpu: 1830,
                cores: 2,
                bits: 32,
                ipc: 2.8,
                compute_power: 10248,
                memory: 2097152,
                storage: 167772160,
                weight: 5,
                power: 280,
                cost: 1500,
                category: 'Personal Computer'
            },
            'core2': {
                name: 'Core 2 Duo PC (2007)',
                year: 2007,
                cpu: 2400,
                cores: 2,
                bits: 64,
                ipc: 3.2,
                compute_power: 15360,
                memory: 4194304,
                storage: 524288000,
                weight: 4.5,
                power: 250,
                cost: 1200,
                category: 'Personal Computer'
            },
            'i3': {
                name: 'Core i3 PC (2010)',
                year: 2010,
                cpu: 2930,
                cores: 2,
                bits: 64,
                ipc: 3.5,
                compute_power: 20510,
                memory: 8388608,
                storage: 1048576000,
                weight: 4,
                power: 220,
                cost: 800,
                category: 'Personal Computer'
            },
            'i5': {
                name: 'Core i5 PC (2012)',
                year: 2012,
                cpu: 3300,
                cores: 4,
                bits: 64,
                ipc: 3.8,
                compute_power: 50160,
                memory: 16777216,
                storage: 1048576000,
                weight: 4,
                power: 200,
                cost: 1000,
                category: 'Personal Computer'
            },
            'i7': {
                name: 'Core i7 PC (2015)',
                year: 2015,
                cpu: 4000,
                cores: 4,
                bits: 64,
                ipc: 4.0,
                compute_power: 64000,
                memory: 33554432,
                storage: 2097152000,
                weight: 3.5,
                power: 180,
                cost: 1500,
                category: 'Personal Computer'
            },
            'i9': {
                name: 'Core i9 PC (2018)',
                year: 2018,
                cpu: 5000,
                cores: 8,
                bits: 64,
                ipc: 4.5,
                compute_power: 180000,
                memory: 67108864,
                storage: 4194304000,
                weight: 3,
                power: 250,
                cost: 2500,
                category: 'Personal Computer'
            },

            // AMD Processors
            'athlon': {
                name: 'AMD Athlon PC (1999)',
                year: 1999,
                cpu: 500,
                cores: 1,
                bits: 32,
                ipc: 2.3,
                compute_power: 1150,
                memory: 131072,
                storage: 10485760,
                weight: 8,
                power: 280,
                cost: 1800,
                category: 'Personal Computer'
            },
            'athlon64': {
                name: 'AMD Athlon 64 PC (2003)',
                year: 2003,
                cpu: 2000,
                cores: 1,
                bits: 64,
                ipc: 2.5,
                compute_power: 5000,
                memory: 1048576,
                storage: 83886080,
                weight: 6,
                power: 180,
                cost: 1500,
                category: 'Personal Computer'
            },
            'ryzen3': {
                name: 'Ryzen 3 PC (2017)',
                year: 2017,
                cpu: 3200,
                cores: 4,
                bits: 64,
                ipc: 4.2,
                compute_power: 53760,
                memory: 16777216,
                storage: 1073741824,
                weight: 3.2,
                power: 120,
                cost: 800,
                category: 'Personal Computer'
            },
            'ryzen5': {
                name: 'Ryzen 5 PC (2017)',
                year: 2017,
                cpu: 3600,
                cores: 6,
                bits: 64,
                ipc: 4.5,
                compute_power: 97200,
                memory: 33554432,
                storage: 2097152000,
                weight: 3.2,
                power: 160,
                cost: 1200,
                category: 'Personal Computer'
            },
            'ryzen7': {
                name: 'Ryzen 7 PC (2019)',
                year: 2019,
                cpu: 4300,
                cores: 8,
                bits: 64,
                ipc: 4.7,
                compute_power: 161480,
                memory: 67108864,
                storage: 4194304000,
                weight: 3,
                power: 180,
                cost: 1800,
                category: 'Personal Computer'
            },
            'ryzen9': {
                name: 'Ryzen 9 PC (2021)',
                year: 2021,
                cpu: 5200,
                cores: 12,
                bits: 64,
                ipc: 4.8,
                compute_power: 299520,
                memory: 134217728,
                storage: 8388608000,
                weight: 3,
                power: 200,
                cost: 3000,
                category: 'Personal Computer'
            },

            // Apple Silicon
            'm1': {
                name: 'Apple M1 Mac (2020)',
                year: 2020,
                cpu: 3200,
                cores: 8,
                bits: 64,
                ipc: 7.0,
                compute_power: 179200,
                memory: 16777216,
                storage: 1073741824,
                weight: 1.3,
                power: 25,
                cost: 1300,
                category: 'Apple Silicon'
            },
            'm2': {
                name: 'Apple M2 Mac (2022)',
                year: 2022,
                cpu: 3500,
                cores: 8,
                bits: 64,
                ipc: 7.5,
                compute_power: 210000,
                memory: 25165824,
                storage: 1073741824,
                weight: 1.24,
                power: 30,
                cost: 1500,
                category: 'Apple Silicon'
            },
            'm3': {
                name: 'Apple M3 Mac (2023)',
                year: 2023,
                cpu: 4100,
                cores: 8,
                bits: 64,
                ipc: 8.0,
                compute_power: 262400,
                memory: 25165824,
                storage: 1073741824,
                weight: 1.22,
                power: 28,
                cost: 1700,
                category: 'Apple Silicon'
            },
            'm4': {
                name: 'Apple M4 Mac (2024)',
                year: 2024,
                cpu: 4400,
                cores: 10,
                bits: 64,
                ipc: 8.5,
                compute_power: 374000,
                memory: 33554432,
                storage: 1073741824,
                weight: 1.18,
                power: 25,
                cost: 1800,
                category: 'Apple Silicon'
            },

            // ARM/Mobile Processors
            'snapdragon855': {
                name: 'Snapdragon 855 Phone (2019)',
                year: 2019,
                cpu: 2840,
                cores: 8,
                bits: 64,
                ipc: 4.0,
                compute_power: 90880,
                memory: 12582912,
                storage: 268435456,
                weight: 0.18,
                power: 4.5,
                cost: 700,
                category: 'ARM/Mobile'
            },
            'snapdragon8gen2': {
                name: 'Snapdragon 8 Gen 2 Phone (2023)',
                year: 2023,
                cpu: 3360,
                cores: 8,
                bits: 64,
                ipc: 6.5,
                compute_power: 174720,
                memory: 16777216,
                storage: 1073741824,
                weight: 0.19,
                power: 6.0,
                cost: 900,
                category: 'ARM/Mobile'
            },

            // Laptops Through Eras
            'osborne1': {
                name: 'Osborne 1 (1981)',
                year: 1981,
                cpu: 4,
                cores: 1,
                bits: 8,
                ipc: 0.3,
                compute_power: 1.2,
                memory: 64,
                storage: 180,
                weight: 10.7,
                power: 60,
                cost: 4000,
                category: 'Laptop'
            },
            'laptop_486': {
                name: '486 Laptop (1992)',
                year: 1992,
                cpu: 33,
                cores: 1,
                bits: 32,
                ipc: 0.8,
                compute_power: 26.4,
                memory: 4096,
                storage: 102400,
                weight: 3.2,
                power: 25,
                cost: 4500,
                category: 'Laptop'
            },
            'thinkpad': {
                name: 'ThinkPad 701 (1995)',
                year: 1995,
                cpu: 75,
                cores: 1,
                bits: 32,
                ipc: 1.2,
                compute_power: 90,
                memory: 8192,
                storage: 524288,
                weight: 2.1,
                power: 30,
                cost: 3500,
                category: 'Laptop'
            },
            'powerbook': {
                name: 'PowerBook G3 (1997)',
                year: 1997,
                cpu: 233,
                cores: 1,
                bits: 32,
                ipc: 1.8,
                compute_power: 419.4,
                memory: 32768,
                storage: 2097152,
                weight: 2.7,
                power: 35,
                cost: 3000,
                category: 'Laptop'
            },
            'centrino': {
                name: 'Centrino Laptop (2003)',
                year: 2003,
                cpu: 1600,
                cores: 1,
                bits: 32,
                ipc: 2.0,
                compute_power: 3200,
                memory: 1048576,
                storage: 83886080,
                weight: 2.2,
                power: 45,
                cost: 2000,
                category: 'Laptop'
            },
            'macbook': {
                name: 'MacBook Pro (2006)',
                year: 2006,
                cpu: 2160,
                cores: 1,
                bits: 32,
                ipc: 2.8,
                compute_power: 6048,
                memory: 2097152,
                storage: 125829120,
                weight: 2.54,
                power: 85,
                cost: 2500,
                category: 'Laptop'
            },
            'ultrabook': {
                name: 'Ultrabook (2012)',
                year: 2012,
                cpu: 2600,
                cores: 2,
                bits: 64,
                ipc: 3.8,
                compute_power: 19760,
                memory: 8388608,
                storage: 268435456,
                weight: 1.3,
                power: 45,
                cost: 1200,
                category: 'Laptop'
            },
            'modern_laptop': {
                name: 'Modern Laptop (2024)',
                year: 2024,
                cpu: 4800,
                cores: 8,
                bits: 64,
                ipc: 5.5,
                compute_power: 211200,
                memory: 33554432,
                storage: 1073741824,
                weight: 1.5,
                power: 65,
                cost: 1500,
                category: 'Laptop'
            },

            // Mobile Devices Evolution
            'iphone': {
                name: 'iPhone (2007)',
                year: 2007,
                cpu: 412,
                cores: 1,
                bits: 32,
                ipc: 1.0,
                compute_power: 412,
                memory: 131072,
                storage: 8388608,
                weight: 0.135,
                power: 2,
                cost: 600,
                category: 'Mobile Device'
            },
            'iphone4': {
                name: 'iPhone 4 (2010)',
                year: 2010,
                cpu: 1000,
                cores: 1,
                bits: 32,
                ipc: 2.0,
                compute_power: 2000,
                memory: 524288,
                storage: 33554432,
                weight: 0.137,
                power: 2.5,
                cost: 600,
                category: 'Mobile Device'
            },
            'iphone6': {
                name: 'iPhone 6 (2014)',
                year: 2014,
                cpu: 1400,
                cores: 2,
                bits: 64,
                ipc: 3.5,
                compute_power: 9800,
                memory: 1048576,
                storage: 134217728,
                weight: 0.129,
                power: 3,
                cost: 650,
                category: 'Mobile Device'
            },
            'iphonex': {
                name: 'iPhone X (2017)',
                year: 2017,
                cpu: 2390,
                cores: 6,
                bits: 64,
                ipc: 5.0,
                compute_power: 71700,
                memory: 3145728,
                storage: 268435456,
                weight: 0.174,
                power: 3.5,
                cost: 1000,
                category: 'Mobile Device'
            },
            'iphone14': {
                name: 'iPhone 14 (2022)',
                year: 2022,
                cpu: 3230,
                cores: 6,
                bits: 64,
                ipc: 6.0,
                compute_power: 116280,
                memory: 6291456,
                storage: 1073741824,
                weight: 0.172,
                power: 3.5,
                cost: 800,
                category: 'Mobile Device'
            },

            // Raspberry Pi
            'rpi1': {
                name: 'Raspberry Pi 1 (2012)',
                year: 2012,
                cpu: 700,
                cores: 1,
                bits: 32,
                ipc: 1.5,
                compute_power: 1050,
                memory: 524288,
                storage: 8388608,
                weight: 0.045,
                power: 3.5,
                cost: 35,
                category: 'Single Board Computer'
            },
            'rpi2': {
                name: 'Raspberry Pi 2 (2015)',
                year: 2015,
                cpu: 900,
                cores: 4,
                bits: 32,
                ipc: 1.8,
                compute_power: 6480,
                memory: 1048576,
                storage: 16777216,
                weight: 0.045,
                power: 4,
                cost: 35,
                category: 'Single Board Computer'
            },
            'rpi3': {
                name: 'Raspberry Pi 3 (2016)',
                year: 2016,
                cpu: 1200,
                cores: 4,
                bits: 64,
                ipc: 2.0,
                compute_power: 9600,
                memory: 1048576,
                storage: 33554432,
                weight: 0.045,
                power: 5.1,
                cost: 35,
                category: 'Single Board Computer'
            },
            'rpi4': {
                name: 'Raspberry Pi 4 (2019)',
                year: 2019,
                cpu: 1500,
                cores: 4,
                bits: 64,
                ipc: 2.5,
                compute_power: 15000,
                memory: 8388608,
                storage: 67108864,
                weight: 0.046,
                power: 6.4,
                cost: 75,
                category: 'Single Board Computer'
            },

            // Gaming Consoles
            'nintendo_nes': {
                name: 'Nintendo NES (1985)',
                year: 1985,
                cpu: 1.79,
                cores: 1,
                bits: 8,
                ipc: 0.3,
                compute_power: 0.537,
                memory: 2,
                storage: 32,
                weight: 0.68,
                power: 9,
                cost: 400,
                category: 'Gaming Console'
            },
            'ps1': {
                name: 'PlayStation 1 (1994)',
                year: 1994,
                cpu: 33,
                cores: 1,
                bits: 32,
                ipc: 0.8,
                compute_power: 26.4,
                memory: 2048,
                storage: 650000,
                weight: 1.5,
                power: 25,
                cost: 600,
                category: 'Gaming Console'
            },
            'ps5': {
                name: 'PlayStation 5 (2020)',
                year: 2020,
                cpu: 3800,
                cores: 8,
                bits: 64,
                ipc: 4.2,
                compute_power: 127680,
                memory: 16777216,
                storage: 875000000,
                weight: 4.5,
                power: 200,
                cost: 500,
                category: 'Gaming Console'
            },

            // Supercomputers
            'cray1': {
                name: 'Cray-1 Supercomputer (1975)',
                year: 1975,
                cpu: 80,
                cores: 1,
                bits: 64,
                ipc: 2.0,
                compute_power: 160,
                memory: 8388608,
                storage: 39321600,
                weight: 5500,
                power: 115000,
                cost: 35000000,
                category: 'Supercomputer'
            },
            'cray2': {
                name: 'Cray-2 (1985)',
                year: 1985,
                cpu: 244,
                cores: 4,
                bits: 64,
                ipc: 2.5,
                compute_power: 2440,
                memory: 268435456,
                storage: 134217728000,
                weight: 2500,
                power: 200000,
                cost: 30000000,
                category: 'Supercomputer'
            },
            'deepblue': {
                name: 'Deep Blue (1997)',
                year: 1997,
                cpu: 200,
                cores: 480,
                bits: 32,
                ipc: 2.0,
                compute_power: 192000,
                memory: 1073741824,
                storage: 1073741824000,
                weight: 1270,
                power: 30000,
                cost: 100000000,
                category: 'Supercomputer'
            },
            'frontier': {
                name: 'Frontier Supercomputer (2022)',
                year: 2022,
                cpu: 2250,
                cores: 9400000,
                bits: 64,
                ipc: 4.0,
                compute_power: 84600000000,
                memory: 9663676416000,
                storage: 734003200000000000,
                weight: 8000000,
                power: 21000000,
                cost: 600000000,
                category: 'Supercomputer'
            }
        };

        function populateDropdowns() {
            const select1 = document.getElementById('computer1');
            const select2 = document.getElementById('computer2');
            
            const categories = {};
            Object.keys(computers).forEach(key => {
                const cat = computers[key].category;
                if (!categories[cat]) categories[cat] = [];
                categories[cat].push({ key, name: computers[key].name });
            });
            
            Object.keys(categories).sort().forEach(category => {
                const optgroup1 = document.createElement('optgroup');
                const optgroup2 = document.createElement('optgroup');
                optgroup1.label = optgroup2.label = category;
                
                categories[category].forEach(comp => {
                    const option1 = new Option(comp.name, comp.key);
                    const option2 = new Option(comp.name, comp.key);
                    optgroup1.appendChild(option1);
                    optgroup2.appendChild(option2);
                });
                
                select1.appendChild(optgroup1);
                select2.appendChild(optgroup2);
            });
        }

        function formatNumber(num) {
            if (num >= 1000000000) return (num/1000000000).toFixed(1) + 'B';
            if (num >= 1000000) return (num/1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num/1000).toFixed(1) + 'K';
            return num.toLocaleString();
        }

        function formatMemoryStorage(kb) {
            if (kb >= 1073741824) return `${(kb/1073741824).toFixed(1)} TB (${formatNumber(kb)} KB)`;
            if (kb >= 1048576) return `${(kb/1048576).toFixed(1)} GB (${formatNumber(kb)} KB)`;
            if (kb >= 1024) return `${(kb/1024).toFixed(1)} MB (${formatNumber(kb)} KB)`;
            return `${kb.toLocaleString()} KB`;
        }

        function getComparisonLanguage(category, isComputer1Better) {
            const languages = {
                'Computational Power': isComputer1Better ? 'more powerful' : 'less powerful',
                'Memory': isComputer1Better ? 'has more memory' : 'has less memory',
                'Storage': isComputer1Better ? 'has more storage' : 'has less storage',
                'Power Consumption': isComputer1Better ? 'more power efficient' : 'less power efficient',
                'Weight': isComputer1Better ? 'lighter' : 'heavier'
            };
            return languages[category] || (isComputer1Better ? 'better' : 'worse');
        }

        function createVisualization(ratio, name1, name2, category) {
            if (ratio < 2) return '';
            
            const container = document.createElement('div');
            container.className = 'comparison-row';
            
            let visualization = '';
            let ratioText = `${ratio.toFixed(1)}√ó difference`;
            
            if (ratio <= 20) {
                // Simple bar chart for small differences
                const height1 = 30;
                const height2 = height1 * ratio;
                const maxHeight = Math.min(height2, 80);
                const scaledHeight1 = (height1 / height2) * maxHeight;
                const scaledHeight2 = maxHeight;
                
                visualization = `
                    <div class="simple-bars">
                        <div class="simple-bar" style="height: ${scaledHeight1}px;">${name1}</div>
                        <div class="simple-bar" style="height: ${scaledHeight2}px;">${name2}</div>
                    </div>
                `;
            } else if (ratio <= 1000) {
                // Circle comparison for medium differences
                const radius1 = 20;
                const radius2 = Math.min(radius1 * Math.sqrt(ratio), 80);
                
                visualization = `
                    <div class="circle-comparison">
                        <div class="circle-item">
                            <div class="circle" style="width: ${radius1*2}px; height: ${radius1*2}px;">${name1}</div>
                            <div class="circle-label">${name1}</div>
                        </div>
                        <div class="circle-item">
                            <div class="circle" style="width: ${radius2*2}px; height: ${radius2*2}px;">${name2}</div>
                            <div class="circle-label">${name2}</div>
                        </div>
                    </div>
                `;
            } else {
                // Scale representation for huge differences with metaphor
                visualization = `
                    <div class="scale-representation">
                        <div class="scale-small">‚óè ${name1}</div>
                        <div style="margin: 10px 0; color: #95a5a6;">vs</div>
                        <div class="scale-large">‚óè ${name2}</div>
                        <div style="margin-top: 10px; color: #e74c3c; font-weight: bold;">
                            Difference too large to visualize proportionally!
                        </div>
                    </div>
                    ${createScaleMetaphor(ratio, name1, name2)}
                `;
            }
            
            container.innerHTML = `
                <div class="comparison-header">
                    ${category} <span class="ratio-badge">${ratioText}</span>
                </div>
                ${visualization}
            `;
            
            return container;
        }

        function displayComparison() {
            const comp1 = document.getElementById('computer1').value;
            const comp2 = document.getElementById('computer2').value;

            if (!comp1 || !comp2) {
                document.getElementById('results').style.display = 'none';
                return;
            }

            const computer1 = computers[comp1];
            const computer2 = computers[comp2];

            // Summary section
            const summaryGrid = document.getElementById('summary-grid');
            summaryGrid.innerHTML = '';

            const comparisons = [
                { label: 'Computational Power', key: 'compute_power', unit: 'MIPS' },
                { label: 'Memory', key: 'memory', unit: 'KB' },
                { label: 'Storage', key: 'storage', unit: 'KB' },
                { label: 'Power Consumption', key: 'power', unit: 'W' },
                { label: 'Weight', key: 'weight', unit: 'kg' }
            ];

            comparisons.forEach(comp => {
                const val1 = computer1[comp.key];
                const val2 = computer2[comp.key];
                
                if (val1 > 0 && val2 > 0) {
                    const ratio = Math.max(val1, val2) / Math.min(val1, val2);
                    
                    // Determine if computer1 is better than computer2
                    let isComputer1Better;
                    if (comp.key === 'power' || comp.key === 'weight') {
                        // For power and weight, lower is better
                        isComputer1Better = val1 < val2;
                    } else {
                        // For compute, memory, storage, higher is better
                        isComputer1Better = val1 > val2;
                    }
                    
                    const computer1Name = computer1.name.split('(')[0].trim();
                    const comparison = getComparisonLanguage(comp.label, isComputer1Better);
                    
                    const summaryItem = document.createElement('div');
                    summaryItem.className = 'summary-item';
                    summaryItem.innerHTML = `
                        <div class="summary-label">${comp.label}</div>
                        <div class="summary-value">${ratio.toFixed(1)}√ó</div>
                        <div style="font-size: 0.8em; color: #7f8c8d; margin-top: 5px;">${computer1Name} ${comparison}</div>
                    `;
                    summaryGrid.appendChild(summaryItem);
                }
            });

            // Compute breakdown
            const computeBreakdown = document.getElementById('compute-breakdown');
            computeBreakdown.innerHTML = `
                <div class="compute-breakdown-title">üß† How Computational Power is Calculated</div>
                <div class="compute-formula">${computer1.name.split('(')[0].trim()}: ${computer1.cores} cores √ó ${computer1.cpu} MHz √ó ${computer1.ipc} IPC = ${formatNumber(computer1.compute_power)} MIPS</div>
                <div class="compute-formula">${computer2.name.split('(')[0].trim()}: ${computer2.cores} cores √ó ${computer2.cpu} MHz √ó ${computer2.ipc} IPC = ${formatNumber(computer2.compute_power)} MIPS</div>
                <div style="margin-top: 10px; text-align: center; color: #8e44ad;">
                    <strong>Power Efficiency:</strong> ${(computer1.compute_power / computer1.power).toFixed(1)} vs ${(computer2.compute_power / computer2.power).toFixed(1)} MIPS/Watt
                </div>
            `;

            // Visual comparisons
            const visualContent = document.getElementById('visual-content');
            visualContent.innerHTML = '';

            comparisons.forEach(comp => {
                const val1 = computer1[comp.key];
                const val2 = computer2[comp.key];
                
                if (val1 > 0 && val2 > 0) {
                    const ratio = Math.max(val1, val2) / Math.min(val1, val2);
                    if (ratio > 1.5) {
                        const larger = val1 > val2 ? computer1.name.split('(')[0].trim() : computer2.name.split('(')[0].trim();
                        const smaller = val1 > val2 ? computer2.name.split('(')[0].trim() : computer1.name.split('(')[0].trim();
                        
                        const visualization = createVisualization(ratio, smaller, larger, comp.label);
                        if (visualization) {
                            visualContent.appendChild(visualization);
                        }
                    }
                }
            });

            // Spec cards
            const specCards = document.getElementById('spec-cards');
            specCards.innerHTML = `
                <div class="spec-card">
                    <h3>${computer1.name}</h3>
                    <div class="spec-row"><span class="spec-label">Category:</span><span class="spec-value">${computer1.category}</span></div>
                    <div class="spec-row"><span class="spec-label">CPU:</span><span class="spec-value">${computer1.cores} √ó ${computer1.cpu} MHz (${computer1.bits}-bit)</span></div>
                    <div class="spec-row"><span class="spec-label">IPC:</span><span class="spec-value">${computer1.ipc} instructions/cycle</span></div>
                    <div class="spec-row"><span class="spec-label">Compute Power:</span><span class="spec-value">${formatNumber(computer1.compute_power)} MIPS</span></div>
                    <div class="spec-row"><span class="spec-label">Memory:</span><span class="spec-value">${formatMemoryStorage(computer1.memory)}</span></div>
                    <div class="spec-row"><span class="spec-label">Storage:</span><span class="spec-value">${formatMemoryStorage(computer1.storage)}</span></div>
                    <div class="spec-row"><span class="spec-label">Weight:</span><span class="spec-value">${computer1.weight} kg</span></div>
                    <div class="spec-row"><span class="spec-label">Power:</span><span class="spec-value">${computer1.power} W</span></div>
                    <div class="spec-row"><span class="spec-label">Efficiency:</span><span class="spec-value">${(computer1.compute_power/computer1.power).toFixed(1)} MIPS/W</span></div>
                    ${createReferencePanel(comp1, computer1.name)}
                </div>
                <div class="spec-card">
                    <h3>${computer2.name}</h3>
                    <div class="spec-row"><span class="spec-label">Category:</span><span class="spec-value">${computer2.category}</span></div>
                    <div class="spec-row"><span class="spec-label">CPU:</span><span class="spec-value">${computer2.cores} √ó ${computer2.cpu} MHz (${computer2.bits}-bit)</span></div>
                    <div class="spec-row"><span class="spec-label">IPC:</span><span class="spec-value">${computer2.ipc} instructions/cycle</span></div>
                    <div class="spec-row"><span class="spec-label">Compute Power:</span><span class="spec-value">${formatNumber(computer2.compute_power)} MIPS</span></div>
                    <div class="spec-row"><span class="spec-label">Memory:</span><span class="spec-value">${formatMemoryStorage(computer2.memory)}</span></div>
                    <div class="spec-row"><span class="spec-label">Storage:</span><span class="spec-value">${formatMemoryStorage(computer2.storage)}</span></div>
                    <div class="spec-row"><span class="spec-label">Weight:</span><span class="spec-value">${computer2.weight} kg</span></div>
                    <div class="spec-row"><span class="spec-label">Power:</span><span class="spec-value">${computer2.power} W</span></div>
                    <div class="spec-row"><span class="spec-label">Efficiency:</span><span class="spec-value">${(computer2.compute_power/computer2.power).toFixed(1)} MIPS/W</span></div>
                    ${createReferencePanel(comp2, computer2.name)}
                </div>
            `;

            // Create timeline
            createTimeline(comp1, comp2);

            document.getElementById('results').style.display = 'block';
        }

        // Reference system variables
        let referenceData = {};
        let scaleComparisons = {};

        // Load reference data
        async function loadReferenceData() {
            try {
                const [earlyResponse, spaceResponse, scaleResponse] = await Promise.all([
                    fetch('./references/early-computers.json'),
                    fetch('./references/space-computers.json'),
                    fetch('./references/scale-comparisons.json')
                ]);

                const earlyData = await earlyResponse.json();
                const spaceData = await spaceResponse.json();
                scaleComparisons = await scaleResponse.json();

                // Merge reference data
                referenceData = { ...earlyData, ...spaceData };
            } catch (error) {
                console.log('Reference data not available - running without enhanced info');
            }
        }

        // Create reference panel for a computer
        function createReferencePanel(computerId, computerName) {
            if (!referenceData[computerId]) return '';

            const ref = referenceData[computerId];
            
            return `
                <div class="reference-panel">
                    <div class="reference-header" onclick="toggleReference('${computerId}')">
                        <span>üìö Learn More About ${computerName}</span>
                        <span class="reference-toggle" id="toggle-${computerId}">‚ñº</span>
                    </div>
                    <div class="reference-content" id="content-${computerId}">
                        <div class="reference-section">
                            <h4>Overview</h4>
                            <p>${ref.overview}</p>
                        </div>
                        
                        <div class="reference-section">
                            <h4>Historical Significance</h4>
                            <p>${ref.historical_significance}</p>
                        </div>
                        
                        ${ref.technical_details ? `
                        <div class="reference-section">
                            <h4>Technical Details</h4>
                            ${Object.entries(ref.technical_details).map(([key, value]) => 
                                `<div class="spec-row">
                                    <span class="spec-label">${key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}:</span>
                                    <span class="spec-value">${value}</span>
                                </div>`
                            ).join('')}
                        </div>
                        ` : ''}
                        
                        ${ref.development ? `
                        <div class="reference-section">
                            <h4>Development</h4>
                            ${Object.entries(ref.development).map(([key, value]) => 
                                `<div class="spec-row">
                                    <span class="spec-label">${key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}:</span>
                                    <span class="spec-value">${value}</span>
                                </div>`
                            ).join('')}
                        </div>
                        ` : ''}
                        
                        ${ref.interesting_facts ? `
                        <div class="reference-facts">
                            <h4>üí° Interesting Facts</h4>
                            <ul>
                                ${ref.interesting_facts.map(fact => `<li>${fact}</li>`).join('')}
                            </ul>
                        </div>
                        ` : ''}
                        
                        <div class="reference-section">
                            <h4>Legacy</h4>
                            <p>${ref.legacy}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Toggle reference panel
        function toggleReference(computerId) {
            const content = document.getElementById(`content-${computerId}`);
            const toggle = document.getElementById(`toggle-${computerId}`);
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                toggle.classList.remove('expanded');
            } else {
                content.classList.add('expanded');
                toggle.classList.add('expanded');
            }
        }

        // Enhanced scale visualization
        function createScaleMetaphor(ratio, name1, name2) {
            if (!scaleComparisons.scale_objects || ratio < 10) return '';

            let scaleObj1, scaleObj2;
            
            // Determine appropriate scale objects based on ratio
            if (ratio < 100) {
                scaleObj1 = scaleComparisons.scale_objects.small[Math.floor(Math.random() * scaleComparisons.scale_objects.small.length)];
                scaleObj2 = scaleComparisons.scale_objects.medium[Math.floor(Math.random() * scaleComparisons.scale_objects.medium.length)];
            } else if (ratio < 1000) {
                scaleObj1 = scaleComparisons.scale_objects.medium[Math.floor(Math.random() * scaleComparisons.scale_objects.medium.length)];
                scaleObj2 = scaleComparisons.scale_objects.large[Math.floor(Math.random() * scaleComparisons.scale_objects.large.length)];
            } else if (ratio < 10000) {
                scaleObj1 = scaleComparisons.scale_objects.large[Math.floor(Math.random() * scaleComparisons.scale_objects.large.length)];
                scaleObj2 = scaleComparisons.scale_objects.massive[Math.floor(Math.random() * scaleComparisons.scale_objects.massive.length)];
            } else {
                scaleObj1 = scaleComparisons.scale_objects.massive[Math.floor(Math.random() * scaleComparisons.scale_objects.massive.length)];
                scaleObj2 = scaleComparisons.scale_objects.astronomical[Math.floor(Math.random() * scaleComparisons.scale_objects.astronomical.length)];
            }

            const size1 = Math.min(40, 20 + (60 / ratio));
            const size2 = Math.min(100, size1 * Math.min(ratio, 5));

            return `
                <div class="scale-metaphor">
                    <div class="scale-metaphor-title">üåç Real-World Scale Comparison</div>
                    <div class="scale-objects">
                        <div class="scale-object">
                            <div class="scale-object-visual scale-object-1" style="width: ${size1}px; height: ${size1}px;">
                                ${scaleObj1.name === 'Tennis Ball' ? 'üéæ' : 
                                  scaleObj1.name === 'Basketball' ? 'üèÄ' : 
                                  scaleObj1.name === 'Car' ? 'üöó' : 
                                  scaleObj1.name === 'House' ? 'üè†' : 
                                  scaleObj1.name === 'Earth Diameter' ? 'üåç' : '‚óè'}
                            </div>
                            <div class="scale-object-name">${scaleObj1.name}</div>
                            <div style="font-size: 0.8em; color: #7f8c8d;">(${name1})</div>
                        </div>
                        
                        <div style="font-size: 2em; color: #e67e22; align-self: center;">VS</div>
                        
                        <div class="scale-object">
                            <div class="scale-object-visual scale-object-2" style="width: ${size2}px; height: ${size2}px;">
                                ${scaleObj2.name === 'Blue Whale' ? 'üêã' : 
                                  scaleObj2.name === 'Eiffel Tower' ? 'üóº' : 
                                  scaleObj2.name === 'Mount Everest' ? 'üèîÔ∏è' : 
                                  scaleObj2.name === 'Earth Diameter' ? 'üåç' : 
                                  scaleObj2.name === 'Moon Diameter' ? 'üåô' : 
                                  scaleObj2.name === 'Sun Diameter' ? '‚òÄÔ∏è' : '‚óè'}
                            </div>
                            <div class="scale-object-name">${scaleObj2.name}</div>
                            <div style="font-size: 0.8em; color: #7f8c8d;">(${name2})</div>
                        </div>
                    </div>
                    <div class="scale-explanation">
                        If ${name1} were the size of a ${scaleObj1.name}, then ${name2} would be like a ${scaleObj2.name} - that's a ${ratio.toFixed(1)}√ó difference!
                    </div>
                </div>
            `;
        }

        // Timeline data and functions
        const timelineMilestones = [
            { year: 1946, id: 'eniac', name: 'ENIAC', description: 'First electronic computer', type: 'milestone' },
            { year: 1951, id: 'univac1', name: 'UNIVAC I', description: 'First commercial computer', type: 'context' },
            { year: 1954, id: 'ibm704', name: 'IBM 704', description: 'First mass-produced computer', type: 'context' },
            { year: 1966, id: 'apollo', name: 'Apollo Computer', description: 'First integrated circuits', type: 'milestone' },
            { year: 1971, id: 'intel4004', name: 'Intel 4004', description: 'First microprocessor', type: 'milestone' },
            { year: 1975, id: 'altair8800', name: 'Altair 8800', description: 'First personal computer', type: 'context' },
            { year: 1977, id: 'apple2', name: 'Apple II', description: 'Mass-market personal computer', type: 'context' },
            { year: 1981, id: 'ibmpc', name: 'IBM PC', description: 'PC standard established', type: 'milestone' },
            { year: 1984, id: 'mac128k', name: 'Mac 128K', description: 'GUI revolution', type: 'context' },
            { year: 1993, id: 'pentium', name: 'Intel Pentium', description: 'Superscalar architecture', type: 'milestone' },
            { year: 2007, id: 'iphone1', name: 'iPhone', description: 'Mobile computing era', type: 'milestone' },
            { year: 2010, id: 'ipad1', name: 'iPad', description: 'Tablet computing', type: 'context' },
            { year: 2020, id: 'm1', name: 'Apple M1', description: 'ARM desktop revolution', type: 'milestone' },
            { year: 2024, id: 'm4', name: 'Apple M4', description: 'Latest silicon', type: 'context' }
        ];

        function createTimeline(comp1Id, comp2Id) {
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '<div class="timeline-line"></div>';

            // Get comparison computers
            const comp1 = computers[comp1Id];
            const comp2 = computers[comp2Id];
            
            // Create a combined list of milestones + compared computers
            let timelineItems = [...timelineMilestones];
            
            // Add compared computers if they're not already in milestones
            if (comp1 && !timelineItems.find(item => item.id === comp1Id)) {
                timelineItems.push({
                    year: comp1.year,
                    id: comp1Id,
                    name: comp1.name.split(' (')[0],
                    description: comp1.category,
                    type: 'comparison'
                });
            }
            
            if (comp2 && !timelineItems.find(item => item.id === comp2Id)) {
                timelineItems.push({
                    year: comp2.year,
                    id: comp2Id,
                    name: comp2.name.split(' (')[0],
                    description: comp2.category,
                    type: 'comparison'
                });
            }

            // Sort by year and take a reasonable subset
            timelineItems.sort((a, b) => a.year - b.year);
            
            // Keep only key milestones plus the comparison computers
            let selectedItems = timelineItems.filter(item => 
                item.type === 'milestone' || 
                item.type === 'comparison' ||
                (item.type === 'context' && Math.random() < 0.3) // Randomly include some context
            );

            // Ensure we don't have too many items (max 8-10 for readability)
            if (selectedItems.length > 10) {
                selectedItems = selectedItems.filter(item => 
                    item.type === 'milestone' || item.type === 'comparison'
                );
            }

            selectedItems.forEach(item => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                
                let dotClass = 'timeline-dot';
                let nameClass = 'timeline-computer';
                
                if (item.id === comp1Id || item.id === comp2Id) {
                    dotClass += ' comparison';
                    nameClass += ' comparison';
                } else if (item.type === 'milestone') {
                    dotClass += ' highlighted';
                    nameClass += ' highlighted';
                }

                timelineItem.innerHTML = `
                    <div class="${dotClass}"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">${item.year}</div>
                        <div class="${nameClass}">${item.name}</div>
                        <div class="timeline-description">${item.description}</div>
                    </div>
                `;
                
                timeline.appendChild(timelineItem);
            });
        }

        // Initialize
        loadReferenceData().then(() => {
            populateDropdowns();
        });
        
        document.getElementById('computer1').addEventListener('change', displayComparison);
        document.getElementById('computer2').addEventListener('change', displayComparison);
    </script>
</body>
</html>